{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/ContentPage.vue?7de5","webpack:///./src/views/ContentPage.vue?45d0","webpack:///src/views/ContentPage.vue","webpack:///./src/views/ContentPage.vue?f744","webpack:///./src/views/ContentPage.vue"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","staticClass","ref","on","backNext","_v","_s","title","current","bookData","length","tpAnimate","$event","contentScroll","_l","i","index","key","attrs","img","nextChapter","_e","readPattern","onChange","slot","prevChapter","directives","name","rawName","value","expression","switchPattern","patternSwitch","addBookShelf","goState","tipShow","tipIcon","staticRenderFns","component"],"mappings":"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","file":"js/chunk-a156754c.f4eb6736.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentPage.vue?vue&type=style&index=0&id=16fa6375&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentPage.vue?vue&type=style&index=0&id=16fa6375&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentPage\"},[_c('div',{ref:\"header\",staticClass:\"header\"},[_c('div',{staticClass:\"left-arrow\",on:{\"click\":_vm.backNext}}),_c('div',{staticClass:\"header-title\"},[_c('span',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.current + 1))]),_vm._v(\"/\"+_vm._s(_vm.bookData.length))]),_c('div',{staticClass:\"header-more\"})]),(_vm.readPattern)?_c('div',{ref:\"contentBox\",staticClass:\"content-box\",on:{\"click\":_vm.tpAnimate,\"scroll\":function($event){return _vm.contentScroll()}}},[_vm._l((_vm.bookData),function(i,index){return _c('img',{key:index,staticClass:\"auto-img\",attrs:{\"src\":i.img,\"alt\":\"\"}})}),_c('span',{on:{\"click\":_vm.nextChapter}},[_vm._v(\"点击下一章\")])],2):_vm._e(),(!_vm.readPattern)?_c('div',{ref:\"contentBox\",staticClass:\"content-box\",on:{\"click\":_vm.tpAnimate,\"scroll\":function($event){return _vm.contentScroll()}}},[_c('van-swipe',{attrs:{\"width\":\"100%\",\"duration\":\"200\"},on:{\"change\":_vm.onChange}},[_vm._l((_vm.bookData),function(i,index){return _c('van-swipe-item',{key:index,staticClass:\"swipe-box next-chapter\",attrs:{\"slot\":\"default\"},slot:\"default\"},[(index != _vm.bookData.length - 1)?_c('img',{staticClass:\"auto-img\",attrs:{\"src\":i.img,\"alt\":\"\"}}):_vm._e(),(index == _vm.bookData.length - 1)?_c('div',[_c('div',{staticClass:\"mantou-pic\"}),_c('p',[_vm._v(\"神秘新世界的大门在召唤你！\")]),_c('div',[_vm._v(\" 您已阅读完毕 \"),_c('strong',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" ,您还可以 \")]),_c('div',{staticClass:\"caozuo-ku\"},[_c('div',{staticClass:\"shangyihua\",on:{\"click\":_vm.prevChapter}},[_c('i'),_c('span',[_vm._v(\"上一话\")])]),_c('div',{staticClass:\"huizhuye\",on:{\"click\":_vm.backNext}},[_c('i'),_c('span',[_vm._v(\"详情页\")])]),_c('div',{staticClass:\"xiayihua\",on:{\"click\":_vm.nextChapter}},[_c('i'),_c('span',[_vm._v(\"下一话\")])])])]):_vm._e()])}),_c('div',{staticClass:\"custom-indicator\",attrs:{\"slot\":\"indicator\"},slot:\"indicator\"},[_vm._v(_vm._s(_vm.current + 1)+\"/\"+_vm._s(_vm.bookData.length))])],2)],1):_vm._e(),_c('div',{ref:\"footer\",staticClass:\"footer\"},[_c('div',{staticClass:\"pattern\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.patternSwitch),expression:\"patternSwitch\"}],staticClass:\"tp-bt\",on:{\"click\":_vm.switchPattern}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.patternSwitch),expression:\"!patternSwitch\"}],staticClass:\"lt-rt\",on:{\"click\":_vm.switchPattern}})]),_c('div',{staticClass:\"collection\",on:{\"click\":_vm.addBookShelf}}),_c('div',{staticClass:\"back-home\",on:{\"click\":function($event){return _vm.goState({name:'home'})}}}),_c('div',{staticClass:\"prevChapter\",on:{\"click\":_vm.prevChapter}}),_c('div',{staticClass:\"nextChapter\",on:{\"click\":_vm.nextChapter}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tipShow),expression:\"tipShow\"}],staticClass:\"tip-box\",on:{\"click\":function($event){_vm.tipShow=false}}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tipIcon),expression:\"tipIcon\"}],staticClass:\"shang\"}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tipIcon),expression:\"!tipIcon\"}],staticClass:\"zuo\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"contentPage\">\r\n    <div class=\"header\" ref=\"header\">\r\n      <div class=\"left-arrow\" @click=\"backNext\"></div>\r\n      <div class=\"header-title\"><span>{{title}}</span>   <span>{{ current + 1 }}</span>/{{bookData.length}}</div>\r\n      <div class=\"header-more\"></div>\r\n    </div>\r\n    <div class=\"content-box\" v-if=\"readPattern\"  @click=\"tpAnimate\" ref=\"contentBox\" @scroll=\"contentScroll()\">\r\n      <img v-for=\"(i, index) in bookData\" :key=\"index\" :src=\"i.img\" alt=\"\" class=\"auto-img\">\r\n      <span @click=\"nextChapter\">点击下一章</span>\r\n    </div>\r\n    <div v-if=\"!readPattern\" class=\"content-box\" @click=\"tpAnimate\" ref=\"contentBox\" @scroll=\"contentScroll()\">\r\n\r\n      <van-swipe @change=\"onChange\" width=\"100%\" duration=\"200\">\r\n         <van-swipe-item class=\"swipe-box next-chapter\" slot=\"default\" v-for=\"(i, index) in bookData\" :key=\"index\" >\r\n           <img :src=\"i.img\" alt=\"\" class=\"auto-img\"  v-if=\"index != bookData.length - 1\">\r\n\r\n           <div v-if=\"index == bookData.length - 1\">\r\n            <div class=\"mantou-pic\"></div>\r\n            <p>神秘新世界的大门在召唤你！</p>\r\n            <div>\r\n               您已阅读完毕\r\n               <strong>{{title}}</strong>\r\n               ,您还可以\r\n            </div>\r\n            <div class=\"caozuo-ku\">\r\n              <div class=\"shangyihua\" @click=\"prevChapter\">\r\n                <i></i>\r\n                <span>上一话</span>\r\n              </div>\r\n              <div class=\"huizhuye\" @click=\"backNext\">\r\n                <i></i>\r\n                <span>详情页</span>\r\n              </div>\r\n              <div class=\"xiayihua\" @click=\"nextChapter\">\r\n                <i></i>\r\n                <span>下一话</span>\r\n              </div>\r\n            </div>\r\n           </div>\r\n\r\n         </van-swipe-item>\r\n        <div class=\"custom-indicator\" slot=\"indicator\">{{ current + 1 }}/{{bookData.length}}</div>\r\n      </van-swipe>\r\n    </div>\r\n    <div class=\"footer\" ref=\"footer\">\r\n      <div class=\"pattern\">\r\n        <i class=\"tp-bt\" v-show=\"patternSwitch\" @click=\"switchPattern\"></i>\r\n        <i class=\"lt-rt\" v-show=\"!patternSwitch\" @click=\"switchPattern\"></i>\r\n      </div>\r\n      <div class=\"collection\" @click=\"addBookShelf\"></div>\r\n      <div class=\"back-home\" @click=\"goState({name:'home'})\"></div>\r\n      <div class=\"prevChapter\" @click=\"prevChapter\"></div>\r\n      <div class=\"nextChapter\" @click=\"nextChapter\"></div>\r\n    </div>\r\n\r\n    <div class=\"tip-box\" v-show=\"tipShow\" @click=\"tipShow=false\">\r\n      <i class=\"shang\" v-show=\"tipIcon\"></i>\r\n      <i class=\"zuo\" v-show=\"!tipIcon\"></i>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  export default{\r\n    data(){\r\n      return{\r\n        patternSwitch:true,\r\n        tipShow:false,\r\n        tipIcon:true,\r\n        tpBtShow:true,\r\n        bookData:'',\r\n        watchNum:0,\r\n        bookList:'',\r\n        timers:[],\r\n        current: 0,\r\n        readPattern:true,\r\n        title:'',\r\n      }\r\n    },\r\n    created(){\r\n      let self = this;\r\n\r\n      let readOpction = JSON.parse(localStorage.getItem('opctionFangshi'))\r\n\r\n      if(readOpction){\r\n        this.patternSwitch = this.tipIcon = this.readPattern = readOpction.mode;\r\n      }\r\n\r\n      this.bookList = this.$route.params.list;\r\n\r\n\r\n      this.watchNum = this.$route.params.num;\r\n\r\n      let url = 'http://api.pingcc.cn/?mhurl2=' + this.bookList[this.watchNum].url\r\n\r\n      this.ajax(url).then(result => {\r\n\r\n        self.bookData = JSON.parse(result).list;\r\n\r\n        if(!self.readPattern){\r\n          self.bookData.push([])\r\n        }\r\n\r\n        this.title = this.bookList[this.watchNum].num\r\n\r\n        // self.watchNum++;\r\n      })\r\n    },\r\n    methods:{\r\n      onChange(index) {\r\n        this.current = index;\r\n        let self = this\r\n        \r\n        var timer = setTimeout(function () {\r\n        \r\n          for (var i = 1; i < self.timers.length; i++) {\r\n            clearTimeout(self.timers[i]);\r\n          }\r\n        \r\n          self.timers = [];\r\n        \r\n        }, 350)\r\n        \r\n        this.timers.push(timer);\r\n        \r\n        this.tpBtShow = true\r\n        \r\n        this.tpAnimate();\r\n      },\r\n      switchPattern(){\r\n\r\n        //阅读模式，左右或者上下\r\n        //this.patternSwitch true上下，false左右\r\n\r\n        this.patternSwitch = !this.patternSwitch;\r\n\r\n        //存储阅读习惯设置，下次进入读取\r\n        localStorage.setItem('opctionFangshi',JSON.stringify({mode:this.patternSwitch}))\r\n\r\n        //是否显示提示\r\n        this.tipShow = !this.tipShow;\r\n\r\n        //切换图标\r\n        this.tipIcon = this.patternSwitch;\r\n\r\n        //阅读模式结构切换\r\n        this.readPattern = !this.readPattern;\r\n\r\n        this.current = 0;\r\n\r\n      },\r\n      backNext(){\r\n        window.history.back(-1);\r\n      },\r\n      tpAnimate(){\r\n        let header = this.$refs.header;\r\n        let footer = this.$refs.footer;\r\n\r\n        if(this.tpBtShow){\r\n          header.classList.remove(\"tpback-ani\");\r\n          footer.classList.remove(\"btback-ani\");\r\n          header.classList.add(\"tp-ani\");\r\n          footer.classList.add(\"bt-ani\");\r\n          this.tpBtShow = false;\r\n        }else{\r\n          header.classList.remove(\"tp-ani\")\r\n          footer.classList.remove(\"bt-ani\")\r\n          header.classList.add(\"tpback-ani\")\r\n          footer.classList.add(\"btback-ani\")\r\n          this.tpBtShow = true\r\n        }\r\n      },\r\n      nextChapter(){\r\n        let self = this;\r\n\r\n        if(this.watchNum == this.bookList.length){\r\n          this.$toast('大人，已经是最后一章了');\r\n          return\r\n        }\r\n\r\n        this.$toast.loading({\r\n          message: '加载中...',\r\n          forbidClick: true,\r\n          duration:0\r\n        });\r\n\r\n        let contentBox = this.$refs.contentBox;\r\n\r\n        contentBox.html='';\r\n\r\n        self.watchNum ++ ;\r\n\r\n        this.title = this.bookList[this.watchNum].num\r\n\r\n        //0是上下阅读模式，1是左右阅读模式\r\n\r\n        if(this.readPattern){\r\n          contentBox.scrollTop=0;\r\n        }else{\r\n          this.current=0;\r\n        }\r\n\r\n\r\n        let url = 'http://api.pingcc.cn/?mhurl2=' + this.bookList[this.watchNum].url;\r\n\r\n        this.ajax(url).then(result => {\r\n\r\n          self.bookData = JSON.parse(result).list;\r\n\r\n          if(!self.readPattern){\r\n            self.bookData.push([])\r\n          }\r\n\r\n          self.$toast.clear()\r\n        })\r\n      },\r\n      prevChapter(){\r\n        let self = this;\r\n\r\n        if(this.watchNum == 1){\r\n          this.$toast('大人，已经是第一章了');\r\n          return\r\n        }\r\n\r\n        self.watchNum--;\r\n\r\n        this.title = this.bookList[this.watchNum].num\r\n\r\n        this.$toast.loading({\r\n          message: '加载中...',\r\n          forbidClick: true,\r\n          duration:0\r\n        });\r\n\r\n        let contentBox = this.$refs.contentBox;\r\n\r\n        contentBox.html='';\r\n\r\n        //0是上下阅读模式，1是左右阅读模式\r\n\r\n        if(this.readPattern){\r\n          contentBox.scrollTop=0;\r\n        }else{\r\n          this.current=0;\r\n        }\r\n\r\n\r\n\r\n        let url = 'http://api.pingcc.cn/?mhurl2=' + this.bookList[this.watchNum].url;\r\n\r\n        this.ajax(url).then(result => {\r\n\r\n          self.bookData = JSON.parse(result).list;\r\n\r\n          if(!self.readPattern){\r\n            self.bookData.push([])\r\n          }\r\n\r\n          self.$toast.clear()\r\n        })\r\n      },\r\n      goState(o){\r\n        this.$router.push(o)\r\n      },\r\n      contentScroll(){\r\n\r\n          let self = this\r\n\r\n          var timer = setTimeout(function () {\r\n\r\n            for (var i = 1; i < self.timers.length; i++) {\r\n              clearTimeout(self.timers[i]);\r\n            }\r\n\r\n            self.timers = [];\r\n\r\n          }, 350)\r\n\r\n          this.timers.push(timer);\r\n\r\n          this.tpBtShow = true\r\n\r\n          this.tpAnimate();\r\n\r\n      },\r\n      addBookShelf(){\r\n\r\n        let watchHis =JSON.parse(localStorage.getItem('watchHis'))\r\n\r\n\r\n        let bookParams = this.$route.params.book\r\n\r\n        //如果本地不存在记录\r\n        if(!watchHis){\r\n\r\n          let watchHis = [{\r\n            bookname:bookParams.name,\r\n            bookAuthor:bookParams.author,\r\n            bookCover:bookParams.cover,\r\n            bookNum:this.watchNum,\r\n            bookShelf:true,\r\n            bookZiliao:this.$route.params.bookUrl\r\n          }];\r\n\r\n          localStorage.setItem(\"watchHis\",JSON.stringify(watchHis))\r\n\r\n          this.$toast('订阅成功')\r\n\r\n          return\r\n\r\n        }\r\n\r\n        for(let i=0; i<watchHis.length;i++){\r\n          if(bookParams.name == watchHis[i].bookname || bookParams.author == watchHis[i].bookAuthor || bookParams.cover == watchHis[i].bookCover){\r\n\r\n            if(watchHis[i].bookShelf){\r\n\r\n              this.$toast('本书已存在书架')\r\n\r\n            }else{\r\n\r\n              watchHis[i].bookShelf = true;\r\n\r\n              localStorage.setItem(\"watchHis\",JSON.stringify(watchHis))\r\n\r\n              this.$toast('订阅成功')\r\n            }\r\n\r\n\r\n            return\r\n          }\r\n        }\r\n\r\n\r\n        watchHis.unshift({\r\n            bookname:bookParams.name,\r\n            bookAuthor:bookParams.author,\r\n            bookCover:bookParams.cover,\r\n            bookNum:this.watchNum,\r\n            bookShelf:true,\r\n            bookZiliao:this.$route.params.bookUrl\r\n          })\r\n\r\n        localStorage.setItem(\"watchHis\",JSON.stringify(watchHis))\r\n\r\n        this.$toast('订阅成功')\r\n\r\n      },\r\n      ajax(url){\r\n        return new Promise((resolve,reject) => {\r\n\r\n          let xhr = new XMLHttpRequest();\r\n\r\n          xhr.onreadystatechange = function(){\r\n            if(this.readyState === 4 && this.status === 200){\r\n              resolve(this.responseText)\r\n            }\r\n          }\r\n\r\n          xhr.open('Get' ,url,false)\r\n\r\n          xhr.send(null)\r\n        })\r\n      }\r\n    },\r\n    beforeRouteLeave(to,from,next){\r\n\r\n      let watchHis =JSON.parse(localStorage.getItem('watchHis'))\r\n\r\n      this.$toast.clear()\r\n\r\n      let bookParams = this.$route.params.book\r\n\r\n      //如果本地不存在记录\r\n      if(!watchHis){\r\n\r\n        let watchHis = [{\r\n          bookname:bookParams.name,\r\n          bookAuthor:bookParams.author,\r\n          bookCover:bookParams.cover,\r\n          bookNum:this.watchNum,\r\n          bookShelf:false,\r\n          bookZiliao:this.$route.params.bookUrl\r\n        }];\r\n\r\n        localStorage.setItem(\"watchHis\",JSON.stringify(watchHis))\r\n\r\n        next();\r\n        return\r\n\r\n      }\r\n\r\n      for(let i=0; i<watchHis.length;i++){\r\n        if(bookParams.name == watchHis[i].bookname || bookParams.author == watchHis[i].bookAuthor || bookParams.cover == watchHis[i].bookCover){\r\n          watchHis[i].bookNum = this.watchNum;\r\n\r\n          localStorage.setItem(\"watchHis\",JSON.stringify(watchHis))\r\n\r\n          next();\r\n          return\r\n        }\r\n      }\r\n\r\n\r\n      watchHis.unshift({\r\n          bookname:bookParams.name,\r\n          bookAuthor:bookParams.author,\r\n          bookCover:bookParams.cover,\r\n          bookNum:this.watchNum,\r\n          bookShelf:false,\r\n          bookZiliao:this.$route.params.bookUrl\r\n\r\n        })\r\n\r\n      localStorage.setItem(\"watchHis\",JSON.stringify(watchHis))\r\n\r\n      next()\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .contentPage{\r\n    width: 100%;\r\n    height: 100%;\r\n    >.tp-ani{\r\n       animation: tp 0.25s ease;\r\n       animation-fill-mode:forwards;\r\n    }\r\n    >.tpback-ani{\r\n       animation: tpback 0.25s ease;\r\n       animation-fill-mode:forwards;\r\n    }\r\n    >.bt-ani{\r\n       animation: bt 0.25s ease;\r\n       animation-fill-mode:forwards;\r\n    }\r\n    >.btback-ani{\r\n       animation: btback 0.25s ease;\r\n       animation-fill-mode:forwards;\r\n    }\r\n    @keyframes tp\r\n    {\r\n        0%   {top: -10px;}\r\n        25%  {top: -20px;}\r\n        50%  {top: -30px;}\r\n        100% {top: -60px;}\r\n    }\r\n    @keyframes tpback\r\n    {\r\n        0%   {top: -60px;}\r\n        25%  {top: -40px;}\r\n        50%  {top: -20px;}\r\n        100% {top:   0px;}\r\n    }\r\n    @keyframes bt\r\n    {\r\n        0%   {bottom: -10px;}\r\n        25%  {bottom: -20px;}\r\n        50%  {bottom: -30px;}\r\n        100% {bottom: -60px;}\r\n    }\r\n    @keyframes btback\r\n    {\r\n        0%   {bottom: -60px;}\r\n        25%  {bottom: -40px;}\r\n        50%  {bottom: -20px;}\r\n        100% {bottom:   0px;}\r\n    }\r\n    >.tip-box{\r\n      width: 100%;\r\n      height: 100%;\r\n      position: fixed;\r\n      top: 0;\r\n      background: transparent;\r\n      z-index: 3;\r\n      display: flex;\r\n      >.shang{\r\n        width: calc(324px / 2);\r\n        height: calc(396px / 2);\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%,-50%);\r\n        background: url(../assets/content/tp-bt.png) no-repeat center center/cover;\r\n      }\r\n      >.zuo{\r\n        width: calc(358px / 2);\r\n        height: calc(285px / 2);\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%,-50%);\r\n        background: url(../assets/content/lt-rt.png) no-repeat center center/cover;\r\n      }\r\n    }\r\n    >.header{\r\n      position: fixed;\r\n      top:0;\r\n      width: calc(100% - 20px);\r\n      padding: 5px 10px;\r\n      height: 30px;\r\n      background: rgba(0,0,0,.8);\r\n      color: #fff;\r\n      display: flex;\r\n      z-index: 3;\r\n      >.left-arrow{\r\n        width: 22px;\r\n        height: 28px;\r\n        margin-top: 1px;\r\n        background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -417.5px -204px;\r\n        background-size:  542px 542px;\r\n      }\r\n      >.header-title{\r\n        margin: 0 auto;\r\n        line-height: 30px;\r\n        font-weight: 600;\r\n        font-size: 14px;\r\n        font-family: \"SimHei,Microsoft Yahei,SimSun,Tahoma,arial,sans-serif\";\r\n        >span:first-child{\r\n          font-size: 16px;\r\n        }\r\n        >span:last-child{\r\n          color: #fc6454;\r\n        }\r\n      }\r\n      >.header-more{\r\n        width: 25px;\r\n        height: 22px;\r\n        background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -446.5px -208px;\r\n        background-size:  542px 542px;\r\n        margin-top: 4px;\r\n      }\r\n    }\r\n    >.content-box{\r\n      width: 100%;\r\n      height: 100%;\r\n      overflow-y: auto;\r\n      >span{\r\n        display: block;\r\n        line-height: 45px;\r\n        background: #ff9a6a;\r\n        height: 45px;\r\n        text-align: center;\r\n        color: #fff;\r\n        border: 1px solid #eee;\r\n        font-size: 16px;\r\n      }\r\n      .next-chapter{\r\n        font-size: 16px;\r\n        position: relative;\r\n        >div{\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          transform: translate(-50%, -50%);\r\n          width: 80%;\r\n          margin: 0 auto;\r\n          text-align: center;\r\n          >div{\r\n            font-weight: bold;\r\n            >strong{\r\n              color: #fc6454;\r\n            }\r\n          }\r\n          >p{\r\n            font-size: 12px;\r\n          }\r\n          >.mantou-pic{\r\n            width: 117px;\r\n            height: 149px;\r\n            margin: 0 auto;\r\n            background: url(../assets/register/baby-mt2.png) no-repeat center center/cover;\r\n          }\r\n          >.caozuo-ku{\r\n            display: flex;\r\n            margin-top: 30px;\r\n            font-size: 14px;\r\n            >.shangyihua{\r\n              text-align: center;\r\n              margin-left: 20px;\r\n              >i{\r\n                display: block;\r\n                width: 30px;\r\n                height: 30px;\r\n                margin: 0 auto;\r\n                border-radius: 50%;\r\n                background: #1c9ef6 url(../assets/content/prev.png) no-repeat center center;\r\n                background-size: 20px 20px;\r\n              }\r\n            }\r\n            >.huizhuye{\r\n              text-align: center;\r\n              margin: 0 auto;\r\n              >i{\r\n                display: block;\r\n                width: 45px;\r\n                height: 45px;\r\n                margin: 0 auto;\r\n                border-radius: 50%;\r\n                background: #fc6454 url(../assets/content/mulu.png) no-repeat center center;\r\n                background-size: 20px 20px;\r\n              }\r\n            }\r\n            >.xiayihua{\r\n              text-align: center;\r\n              margin-right: 20px;\r\n              >i{\r\n                margin: 0 auto;\r\n               display: block;\r\n               width: 30px;\r\n               height: 30px;\r\n               border-radius: 50%;\r\n               background: #1c9ef6 url(../assets/content/next.png) no-repeat center center;\r\n               background-size: 20px 20px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .swipe-box{\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .van-swipe{\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .custom-indicator{\r\n        width: 40px;\r\n        height: 20px;\r\n        background: rgba(255,255,255,.4);\r\n        position: fixed;\r\n        bottom: 0;\r\n        right: 0;\r\n      }\r\n    }\r\n    >.footer{\r\n      width: calc(100% - 20px);\r\n      height: 30px;\r\n      background: rgba(0,0,0,.8);\r\n      position: fixed;\r\n      bottom: 0;\r\n      padding: 10px 10px;\r\n      display: flex;\r\n      >.pattern{\r\n        width: 30px;\r\n        height: 30px;\r\n        margin: 0 auto;\r\n        >.tp-bt{\r\n          display: block;\r\n          width: 20px;\r\n          height: 25px;\r\n          background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -479px -205.5px;\r\n          background-size:  542px 542px;\r\n          margin: 2.5px auto 0;\r\n        }\r\n        >.lt-rt{\r\n          display: block;\r\n          width: 25px;\r\n          height: 20px;\r\n          background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -509px -207.5px;\r\n          background-size:  542px 542px;\r\n          margin: 5px auto 0;\r\n        }\r\n      }\r\n      >.collection{\r\n        width: 22px;\r\n        height: 22px;\r\n        background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -324.5px -407.5px;\r\n        background-size:  542px 542px;\r\n        margin: 4px auto 0;\r\n      }\r\n      >.back-home{\r\n        width: 22px;\r\n        height: 22px;\r\n        background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -296.5px -408.5px;\r\n        background-size:  542px 542px;\r\n        margin: 4px auto 0;\r\n      }\r\n      >.prevChapter{\r\n        width: 12.5px;\r\n        height: 24px;\r\n        background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -204.5px -408.5px;\r\n        background-size:  542px 542px;\r\n        margin: 3px auto 0;\r\n      }\r\n      >.nextChapter{\r\n        width: 12.5px;\r\n        height: 24px;\r\n        background: url(../assets/content/sc_img_chapter_v2.1.png) no-repeat -238.5px -408.5px;\r\n        background-size:  542px 542px;\r\n        margin: 3px auto 0;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>\r\n\r\n\r\n<!--\r\n        let bookParams = this.$route.params.book\r\n\r\n        let bookShelf = JSON.parse(localStorage.getItem('bookShelf'));\r\n\r\n        if(!bookShelf){\r\n          let bookShelf = [{\r\n            bookname:bookParams.name,\r\n            bookAuthor:bookParams.author,\r\n            bookCover:bookParams.cover,\r\n            bookNum:this.watchNum\r\n          }];\r\n\r\n          localStorage.setItem(\"bookShelf\",JSON.stringify(bookShelf))\r\n\r\n          return\r\n        }\r\n\r\n        for(let i=0; i<bookShelf.length;i++){\r\n          if(bookParams.name == bookShelf[i].bookname || bookParams.author == bookShelf[i].bookAuthor || bookParams.cover == bookShelf[i].bookCover){\r\n            bookShelf[i].bookNum = this.watchNum;\r\n\r\n            this.$toast('本书已存在书架');\r\n\r\n            return\r\n          }\r\n        }\r\n\r\n        bookShelf.unshift({\r\n            bookname:bookParams.name,\r\n            bookAuthor:bookParams.author,\r\n            bookCover:bookParams.cover,\r\n            bookNum:this.watchNum\r\n          })\r\n\r\n        localStorage.setItem(\"bookShelf\",JSON.stringify(bookShelf));\r\n\r\n        this.$toast('订阅成功'); -->\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentPage.vue?vue&type=template&id=16fa6375&scoped=true&\"\nimport script from \"./ContentPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContentPage.vue?vue&type=style&index=0&id=16fa6375&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16fa6375\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}